<svg width="1200" height="800"></svg>

<script>
  var data = <%= raw @friends.to_json %>;
  var svg = d3.select("svg");
  svg.selectAll("circle")
      .data(data)
    .enter().append("circle")
      .attr("style", function(d) { return d.c; })
      .attr("cx",1).transition().attr("cx", function(d) { return d.x; })
      .attr("cy",1).transition().attr("cy", function(d) { return d.y; })
      .attr("r",1).transition().attr("r", function(d) { return d.r; } )
</script>
